{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sri Charan\\\\dev\\\\week06\\\\personal-budget-react\\\\src\\\\PieChart\\\\PieChart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport Chart from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PieChart() {\n  _s();\n  const [data, setData] = useState({\n    datasets: [{\n      data: [],\n      backgroundColor: [\"#ff5733\", \"#ffa733\", \"#33ff57\", \"#336aff\", \"#a733ff\", \"#ff33c9\", \"#33ffc9\"]\n    }],\n    labels: []\n  });\n  useEffect(() => {\n    axios.get('http://localhost:3000/budget').then(res => {\n      const newData = {\n        ...data\n      };\n      newData.labels = res.data.myBudget.map(item => item.title);\n      newData.datasets[0].data = res.data.myBudget.map(item => item.budget);\n      setData(newData);\n      createChart(newData);\n    });\n  }, []);\n  function createChart(chartData) {\n    const ctx = document.getElementById(\"myChart\").getContext(\"2d\");\n    if (window.myPieChart) {\n      window.myPieChart.destroy(); // Destroy the previous chart\n    }\n\n    window.myPieChart = new Chart(ctx, {\n      type: \"pie\",\n      data: chartData,\n      options: {\n        responsive: false,\n        // Disable responsiveness\n        maintainAspectRatio: false // Disable aspect ratio\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-container\",\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"myChart\",\n      width: \"300\",\n      height: \"100\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(PieChart, \"PPKrKBuSeDS9wrTh6GYjfK7Ankk=\");\n_c = PieChart;\nvar _c;\n$RefreshReg$(_c, \"PieChart\");","map":{"version":3,"names":["React","useEffect","useState","axios","Chart","jsxDEV","_jsxDEV","PieChart","_s","data","setData","datasets","backgroundColor","labels","get","then","res","newData","myBudget","map","item","title","budget","createChart","chartData","ctx","document","getElementById","getContext","window","myPieChart","destroy","type","options","responsive","maintainAspectRatio","className","children","id","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Sri Charan/dev/week06/personal-budget-react/src/PieChart/PieChart.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport Chart from 'chart.js';\r\n\r\nexport default function PieChart() {\r\n  const [data, setData] = useState({\r\n    datasets: [\r\n      {\r\n        data: [],\r\n        backgroundColor: [\r\n          \"#ff5733\",\r\n          \"#ffa733\",\r\n          \"#33ff57\",\r\n          \"#336aff\",\r\n          \"#a733ff\",\r\n          \"#ff33c9\",\r\n          \"#33ffc9\",\r\n        ],\r\n      },\r\n    ],\r\n    labels: [],\r\n  });\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:3000/budget')\r\n      .then((res) => {\r\n        const newData = { ...data };\r\n        newData.labels = res.data.myBudget.map((item) => item.title);\r\n        newData.datasets[0].data = res.data.myBudget.map((item) => item.budget);\r\n        setData(newData);\r\n        createChart(newData);\r\n      });\r\n  }, []);\r\n\r\n  function createChart(chartData) {\r\n    const ctx = document.getElementById(\"myChart\").getContext(\"2d\");\r\n\r\n    if (window.myPieChart) {\r\n      window.myPieChart.destroy(); // Destroy the previous chart\r\n    }\r\n\r\n    window.myPieChart = new Chart(ctx, {\r\n      type: \"pie\",\r\n      data: chartData,\r\n      options: {\r\n        responsive: false, // Disable responsiveness\r\n        maintainAspectRatio: false, // Disable aspect ratio\r\n      },\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"chart-container\">\r\n      <canvas id=\"myChart\" width=\"300\" height=\"100\"></canvas>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7B,eAAe,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EACjC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC;IAC/BS,QAAQ,EAAE,CACR;MACEF,IAAI,EAAE,EAAE;MACRG,eAAe,EAAE,CACf,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS;IAEb,CAAC,CACF;IACDC,MAAM,EAAE;EACV,CAAC,CAAC;EAEFZ,SAAS,CAAC,MAAM;IACdE,KAAK,CAACW,GAAG,CAAC,8BAA8B,CAAC,CACtCC,IAAI,CAAEC,GAAG,IAAK;MACb,MAAMC,OAAO,GAAG;QAAE,GAAGR;MAAK,CAAC;MAC3BQ,OAAO,CAACJ,MAAM,GAAGG,GAAG,CAACP,IAAI,CAACS,QAAQ,CAACC,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACC,KAAK,CAAC;MAC5DJ,OAAO,CAACN,QAAQ,CAAC,CAAC,CAAC,CAACF,IAAI,GAAGO,GAAG,CAACP,IAAI,CAACS,QAAQ,CAACC,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACE,MAAM,CAAC;MACvEZ,OAAO,CAACO,OAAO,CAAC;MAChBM,WAAW,CAACN,OAAO,CAAC;IACtB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,SAASM,WAAWA,CAACC,SAAS,EAAE;IAC9B,MAAMC,GAAG,GAAGC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACC,UAAU,CAAC,IAAI,CAAC;IAE/D,IAAIC,MAAM,CAACC,UAAU,EAAE;MACrBD,MAAM,CAACC,UAAU,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC;IAC/B;;IAEAF,MAAM,CAACC,UAAU,GAAG,IAAI1B,KAAK,CAACqB,GAAG,EAAE;MACjCO,IAAI,EAAE,KAAK;MACXvB,IAAI,EAAEe,SAAS;MACfS,OAAO,EAAE;QACPC,UAAU,EAAE,KAAK;QAAE;QACnBC,mBAAmB,EAAE,KAAK,CAAE;MAC9B;IACF,CAAC,CAAC;EACJ;;EAEA,oBACE7B,OAAA;IAAK8B,SAAS,EAAC,iBAAiB;IAAAC,QAAA,eAC9B/B,OAAA;MAAQgC,EAAE,EAAC,SAAS;MAACC,KAAK,EAAC,KAAK;MAACC,MAAM,EAAC;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAS;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpD,CAAC;AAEV;AAACpC,EAAA,CApDuBD,QAAQ;AAAAsC,EAAA,GAARtC,QAAQ;AAAA,IAAAsC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}